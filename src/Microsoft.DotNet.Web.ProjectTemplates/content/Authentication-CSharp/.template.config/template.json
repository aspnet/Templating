{
  "$schema": "http://json.schemastore.org/template",
  "author": "Microsoft",
  "name": "ASP.NET auth settings snippet",
  "generatorVersions": "[1.0.0.0-*)",
  "description": "Snippet for authentication settings for the project templates",
  "precedence": "2000",
  "shortName": "internal-authentication",
  "identity": "Microsoft.Web.Authentication.Internal.CSharp.2.1",
  "tags": {
    "language": "C#",
    "type": "item"
  },
  "sourceName": "Company.WebApplication1",
  "preferNameDirectory": true,
  "guids": [
    "09732173-2cef-46b7-83db-1334bcb079d3", // Tenant ID
    "53bc9b9d-9d6a-45d4-8429-2a2761773502" // Client ID
  ],
  "sources": [
    {
      "modifiers": [
        {
          "rename": { "AppSettingsAuthSnippet.json": "__ActiveDirectorySettings__" }
        },
        {
          "rename": { "StartupSnippet.cs": "__ActiveDirectoryStartup__" }
        },
        {
          "rename": { "internalAuth.txt": "internalAuth" }
        }
      ]
    }
  ],
  "symbols": {
    "auth": {
      "type": "parameter",
      "datatype": "choice",
      "choices": [
        {
          "choice": "IndividualB2C",
          "description": "Individual authentication with Azure AD B2C"
        },
        {
          "choice": "SingleOrg",
          "description": "Organizational authentication for a single tenant"
        },
        {
          "choice": "MultiOrg",
          "description": "Organizational authentication for multiple tenants"
        }
      ],
      "replaces": "authValue",
      "defaultValue": "None",
      "description": "The type of authentication to use"
    },
    "AAdB2CInstance": {
      "type": "parameter",
      "datatype": "string",
      "defaultValue": "https://login.microsoftonline.com/tfp/",
      "replaces": "https:////login.microsoftonline.com/tfp/",
      "description": "The Azure Active Directory B2C instance to connect to (use with IndividualB2C auth)."
    },
    "SignUpSignInPolicyId": {
      "type": "parameter",
      "datatype": "string",
      "defaultValue": "",
      "replaces": "MySignUpSignInPolicyId",
      "description": "The sign-in and sign-up policy ID for this project (use with IndividualB2C auth)."
    },
    "ResetPasswordPolicyId": {
      "type": "parameter",
      "datatype": "string",
      "defaultValue": "",
      "replaces": "MyResetPasswordPolicyId",
      "description": "The reset password policy ID for this project (use with IndividualB2C auth)."
    },
    "EditProfilePolicyId": {
      "type": "parameter",
      "datatype": "string",
      "defaultValue": "",
      "replaces": "MyEditProfilePolicyId",
      "description": "The edit profile policy ID for this project (use with IndividualB2C auth)."
    },
    "AADInstance": {
      "type": "parameter",
      "datatype": "string",
      "defaultValue": "https://login.microsoftonline.com/",
      "replaces": "https:////login.microsoftonline.com/",
      "description": "The Azure Active Directory instance to connect to (use with SingleOrg or MultiOrg auth)."
    },
    "ClientId": {
      "type": "parameter",
      "datatype": "string",
      "replaces": "11111111-1111-1111-11111111111111111",
      "description": "The Client ID for this project (use with IndividualB2C, SingleOrg or MultiOrg auth)."
    },
    "Domain": {
      "type": "parameter",
      "datatype": "string",
      "replaces": "qualified.domain.name",
      "description": "The domain for the directory tenant (use with SingleOrg or IndividualB2C auth)."
    },
    "TenantId": {
      "type": "parameter",
      "datatype": "string",
      "replaces": "22222222-2222-2222-2222-222222222222",
      "description": "The TenantId ID of the directory to connect to (use with SingleOrg auth)."
    },
    "CallbackPath": {
      "type": "parameter",
      "datatype": "string",
      "replaces": "/signin-oidc",
      "defaultValue": "/signin-oidc",
      "description": "The request path within the application's base path of the redirect URI (use with SingleOrg or IndividualB2C auth)."
    },
    "WebAuth": {
      "type": "parameter",
      "datatype": "bool",
      "defaultValue": "true",
      "description": "API or Web application"
    },
    "OrganizationalAuth": {
      "type": "computed",
      "value": "(auth == \"SingleOrg\" || auth == \"MultiOrg\")"
    },
    "MultiOrgAuth": {
      "type": "computed",
      "value": "(auth == \"MultiOrg\")"
    },
    "SingleOrgAuth": {
      "type": "computed",
      "value": "(auth == \"SingleOrg\")"
    },
    "IndividualLocalAuth": {
      "type": "computed",
      "value": "(auth == \"Individual\")"
    },
    "IndividualB2CAuth": {
      "type": "computed",
      "value": "(auth == \"IndividualB2C\")"
    }
  },
  "primaryOutputs": [
    {
      "path": "__ActiveDirectorySettings__"
    },
    {
      "path": "__ActiveDirectoryStartup__"
    },
    {
      "path": "internalAuth"
    }
  ]
}
